// !compileOnSave
// compileOnSave                   : false
// main                            : ../style.scss


/* Main Content ------------------ */

.col-main {
  width                            : $col-main-width;
  margin-right                     : $col-gutter;

  .video-wrapper {
    width                          : $video-wrapper-width;
    margin                         : $video-wrapper-margin;
    background-repeat              : no-repeat;
    background-position            : center;
    background-size                : 100% $video-wrapper-bg-height;
    background-image               : svgParams(video, $video-svg-color);
    @include screen1200 {
      background-size              : 100% calc(#{$video-wrapper-bg-height} - 5%);
    };
    @include screen1000 {
      background-size              : 100% calc(#{$video-wrapper-bg-height} - 2%);
    };
    @include screen900 {
      background-size              : 100% calc(#{$video-wrapper-bg-height} - 1.7%);
    };
    @media screen and (max-width: $wrapper-width-900) {
      background-color    : $video-bg-color;
      background-image    : none;
    }

    .video-controls {
      @include flexed;
      -webkit-transform            : translateX(-45px);
          -ms-transform            : translateX(-45px);
              transform            : translateX(-45px);

      .next-lesson, .previous-lesson {
        font-size                  : $video-nav-text-size;
        margin-top                 : $video-nav-margin-top;
        padding                    : $video-nav-padding;
        width                      : $video-nav-width;
        @include screen1000 {
          font-size                : calc(#{$video-nav-text-size} - 250%);
        };
        @include screen900 {
          font-size                : calc(#{$video-nav-text-size} - 250%);
        };
        -webkit-transform          : scaleX($video-nav-transform-scalex);
            -ms-transform          : scaleX($video-nav-transform-scalex);
                transform          : scaleX($video-nav-transform-scalex);

        a {
          outline                  : none;

          &:focus,
          &:hover,
          &:active {
            @include button-hover;
          }

          &:focus-within {
            @include button-hover;
          }
        }

        &.current {
          visibility               : hidden;
        }
      }

      .previous-lesson {
        padding-left               : $video-nav-previous-padding-left;
        @include screen1200 {
          padding-left             : calc(#{$video-nav-previous-padding-left} + 1%);
        };
        @include screen1000 {
          padding-left             : calc(#{$video-nav-previous-padding-left} + 6%);
        };
        @include screen900 {
          padding-left             : calc(#{$video-nav-previous-padding-left} + 7%);
        };
      }

      .next-lesson {
        position                   : absolute;
        right                      : $video-nav-next-right;
        margin-top                 : $video-nav-next-margin-top;
        @include screen1200 {
          right                    : calc(#{$video-nav-next-right}      - 0.8%);
        };
        @include screen1000 {
          right                    : calc(#{$video-nav-next-right}      - 1.7%);
        };
        @include screen900 {
          right                    : calc(#{$video-nav-next-right}      - 3.1%);
        };
        @include browser-hacks {
          margin-top               : calc(#{$video-nav-next-margin-top} * 2);
        }
      }

      .video-player {
        position                   : relative;
        overflow                   : hidden;
        width                      : $video-player-width;
        padding-top                : $video-player-padding-top;
        margin-left                : $video-player-margin-left;
        -webkit-transform          : translate($video-player-translate-x, $video-player-translate-y);
            -ms-transform          : translate($video-player-translate-x, $video-player-translate-y);
                transform          : translate($video-player-translate-x, $video-player-translate-y);
        @include screen1200 {
          margin-left              : calc(#{$video-player-margin-left} + 1.5%);
        };
        @include screen1000 {
          margin-left              : calc(#{$video-player-margin-left} + 3.9%);
        };
        @include screen900 {
          margin-left              : calc(#{$video-player-margin-left} + 4%);
          -webkit-transform        : translate(calc(#{$video-player-translate-x} + 0.8%), $video-player-translate-y);
              -ms-transform        : translate(calc(#{$video-player-translate-x} + 0.8%), $video-player-translate-y);
                  transform        : translate(calc(#{$video-player-translate-x} + 0.8%), $video-player-translate-y);
        };

        .video-frame {
          position: absolute;
          top: 0;
          left: 0;
          width                    : $video-width;
          height                   : $video-height;
        }
      }
    }

    .video-title {
      color                        : $video-caption-color;
      font-size                    : $video-caption-text-size;
      font-style                   : $video-caption-text-style;
      margin-top                   : $video-caption-margin-top;
      padding-bottom               : $video-caption-padding-bottom;
      text-align                   : center;
      @include screen1200 {
        margin-top                 : calc(#{$video-caption-margin-top}     - 1%);
        padding-bottom             : calc(#{$video-caption-padding-bottom} + 1.7%);
      };
      @include screen1000 {
        padding-bottom             : calc(#{$video-caption-padding-bottom} + 0.5%);
      };
      @include screen900 {
        padding-bottom             : calc(#{$video-caption-padding-bottom} + 0.7%);
      };
    }
  }

  .course-titling-wrapper {
    height                         : $course-titling-wrapper-height;
    width                          : $course-titling-wrapper-width;
    margin                         : $course-titling-wrapper-margin;
    background-repeat              : no-repeat;
    background-position            : center;
    background-size                : 100% 100%;
    background-image               : svgParams(course, $course-svg-color, $svg-secondary-color);
    @include screen900 {
      height                       : calc(#{$course-titling-wrapper-height} - 10px);
    };
    @media screen and (max-width: $wrapper-width-900) {
      background-color    : $course-bg-color;
      background-image    : none;
    }

      .course-title-wrap {
        margin-left                : $course-title-wrap-margin-left;
        padding-top                : $course-title-wrap-padding-top;
        @include screen1200 {
          padding-top              : calc(#{$course-title-wrap-padding-top} + 0.7%);
        };
      }

      .course-titling {
        color                      : $course-titling-color;
        font-size                  : $course-titling-text-size;
        line-height                : $course-titling-line-height;
        @include screen1200 {
          font-size                : calc(#{$course-titling-text-size} - 20%);
        };

        strong {
          font-weight              : $course-titling-strong;
          letter-spacing           : $course-titling-strong-spacing;
        }
      }

      .extra-info {
        display                    : inline-flex;
        flex-direction             : row;
      }

      .video-count {
        position                   : absolute;
        margin-top                 : $video-count-margin-top;
        margin-left                : $video-count-margin-left;
        @include screen1000 {
          margin-top               : calc(#{$video-count-margin-top}  +  3%);
          margin-left              : calc(#{$video-count-margin-left} - 42%);
        };
        @include screen900 {
          margin-top               : calc(#{$video-count-margin-top}  +  3%);
          margin-left              : calc(#{$video-count-margin-left} - 41%);
        };
      }

      .video-numbering {
        text-align                 : $video-numbering-text-align;
      }
  }

  .main-content-tabs {
    margin-top                     : $vertical-margin-spacing;
    line-height                    : $main-line-height;
    @include screen1200 {
      line-height       : calc(#{$main-line-height}      - 15%);
    };

    section {
      display                      : none;
    }

    input {
      display                      : none;
    }

    label {
      display                      : inline-block;
      font-weight                  : $tabs-label-font-weight;
      text-align                   : center;
      color                        : $tabs-color-inactive;
      margin                       : $tabs-label-margin;
      padding-top                  : $tabs-label-padding-top-bottom;
      padding-bottom               : $tabs-label-padding-top-bottom;
      padding-left                 : $tabs-label-padding-left-right;
      padding-right                : $tabs-label-padding-left-right;
      background-repeat            : no-repeat;
      background-position          : center;
      background-size              : 100% 100%;
      background-image             : svgParams(tab, $talk-print-svg-color, $svg-secondary-color);
      @include screen1200 {
        padding-top                : calc(#{$tabs-label-padding-top-bottom} + 0.02%);
        padding-bottom             : calc(#{$tabs-label-padding-top-bottom} + 0.02%);
      };
      @media screen and (max-width: $wrapper-width-900) {
        background-color    : $talk-print-bg-color;
        background-image    : none;
      }

      &:focus,
      &:hover,
      &:active {
        color                      : $tabs-hover-color;
        cursor                     : pointer;
      }

      &:focus-within {
        color                      : $tabs-hover-color;
        cursor                     : pointer;
      }
    }

    input:checked + label {
      color                        : $titling-color;
      background-repeat            : no-repeat;
      background-position          : center;
      background-size              : 100% 100%;
      background-image             : svgParams(tab, $talk-print-svg-color, $svg-secondary-color, $talk-print-svg-color);
      @media screen and (max-width: $wrapper-width-900) {
        background-color    : $talk-print-bg-color;
        background-image    : none;
      }
    }

    input#qa-tab + label {
      margin-left                  : $tabs-margin-left;
    }

    #talk-print-wrapper {
      width                        : $talk-print-wrapper-width;
      padding                      : $talk-print-wrapper-padding;
      background-repeat            : no-repeat;
      background-position          : center;
      background-size              : 100% 100%;
      background-image             : svgParams(talk-print, $talk-print-svg-color, $svg-secondary-color);
      @media screen and (max-width: $wrapper-width-900) {
        background-color    : $talk-print-bg-color;
        background-image    : none;
      }

      .swashIn {
        -webkit-animation-fill-mode: both;
        -webkit-animation-duration : $tabs-animation-length;
        -webkit-animation-name     : swashIn;
        -moz-animation-fill-mode   : both;
        -moz-animation-duration    : $tabs-animation-length;
        -moz-animation-name        : swashIn;
        -ms-animation-fill-mode    : both;
        -ms-animation-duration     : $tabs-animation-length;
        -ms-animation-name         : swashIn;
        -o-animation-fill-mode     : both;
        -o-animation-duration      : $tabs-animation-length;
        -o-animation-name          : swashIn;
        animation-fill-mode        : both;
        animation-duration         : $tabs-animation-length;
        animation-name             : swashIn;
      }

      h4 {
        color                      : $text-color;
        font-size                  : $discussion-login-text-size;
        font-weight                : $discussion-login-font-weight;
        margin-bottom              : $discussion-login-margin-bottom;

        a {
          color                    : $discussion-login-link-color;
          text-decoration          : underline;
        }
      }

      #discuss {
        ol#comments {
          color                    : $comments-text-color;

          li {
            list-style-type        : none;
            width                  : $comments-li-width;
            padding                : $comments-li-padding;

            h5 {
              strong {
                font-weight        : $comments-li-h5-font-weight;
              }
            }

            &.student-comments {
              background-repeat    : no-repeat;
              background-position  : center;
              background-size      : 100% 100%;
              background-image     : svgParams(talkazoid-0, $talk-print-svg-color, $svg-secondary-color);
              @media screen and (max-width: $wrapper-width-900) {
                background-color    : $talk-print-bg-color;
                background-image    : none;
              }
            }

            &.teacher-comments {
              margin-left          : $teacher-comments-margin-left;
              text-align           : $teacher-comments-text-align;
              background-repeat    : no-repeat;
              background-position  : center;
              background-size      : 100% 100%;
              background-image     : svgParams(talkazoid-180, $talk-print-svg-color, $svg-secondary-color);
              @media screen and (max-width: $wrapper-width-900) {
                background-color    : $talk-print-bg-color;
                background-image    : none;
              }
            }
          }
        }
      }

      #transcript {
        margin-left                : $transcript-margin-left;

        &:before {
          content                  : '';
          position                 : absolute;
          width                    : $quote-icon-width;
          height                   : $quote-icon-height;
          margin-left              : $quote-icon-margin-left;
          background-repeat        : no-repeat;
          background-position      : center;
          background-size          : 100% 100%;
          background-image         : svgParams(quote, $quote-svg-color);
          @include screen1000 {
            width                  : calc(#{$quote-icon-width}       -  5px);
            height                 : calc(#{$quote-icon-height}      -  5px);
            margin-left            : calc(#{$quote-icon-margin-left} -  1%);
          };
          @include screen900 {
            width                  : calc(#{$quote-icon-width}       - 10px);
            height                 : calc(#{$quote-icon-height}      - 10px);
            margin-left            : calc(#{$quote-icon-margin-left} -  1%);
          };
        }

        p:not(:last-child) {
          margin-bottom            : $transcript-p-margin-bottom;
        }
      }
    }

    #qa-tab:checked ~ #talk-print-wrapper section#discussion,
    #vt-tab:checked ~ #talk-print-wrapper section#transcription {
      display                      : block;
      background-color             : $talk-print-bg-color;
    }
  }
}

@keyframes swashIn {
  0% {
    opacity: 0;
            transform-origin: 50% 50%;
            transform: scale(0, 0);
  }
  90% {
    opacity: 1;
            transform-origin: 50% 50%;
            transform: scale(0.9, 0.9);
  }
  100% {
    opacity: 1;
            transform-origin: 50% 50%;
            transform: scale(1, 1);
  }
}
@-ms-keyframes swashIn {
  0% {
    opacity: 0;
        -ms-transform-origin: 50% 50%;
        -ms-transform: scale(0, 0);
  }

  90% {
    opacity: 1;
        -ms-transform-origin: 50% 50%;
        -ms-transform: scale(0.9, 0.9);
  }

  100% {
    opacity: 1;
        -ms-transform-origin: 50% 50%;
        -ms-transform: scale(1, 1);
  }
}
@-o-keyframes swashIn {
  0% {
    opacity: 0;
         -o-transform-origin: 50% 50%;
         -o-transform: scale(0, 0);
  }

  90% {
    opacity: 1;
         -o-transform-origin: 50% 50%;
         -o-transform: scale(0.9, 0.9);
  }

  100% {
    opacity: 1;
         -o-transform-origin: 50% 50%;
         -o-transform: scale(1, 1);
  }
}
@-webkit-keyframes swashIn {
  0% {
    opacity: 0;
    -webkit-transform-origin: 50% 50%;
    -webkit-transform: scale(0, 0);
  }

  90% {
    opacity: 1;
    -webkit-transform-origin: 50% 50%;
    -webkit-transform: scale(0.9, 0.9);
  }

  100% {
    opacity: 1;
    -webkit-transform-origin: 50% 50%;
    -webkit-transform: scale(1, 1);
  }
}
@-moz-keyframes swashIn {
  0% {
    opacity: 0;
       -moz-transform-origin: 50% 50%;
       -moz-transform: scale(0, 0);
  }

  90% {
    opacity: 1;
       -moz-transform-origin: 50% 50%;
       -moz-transform: scale(0.9, 0.9);
  }

  100% {
    opacity: 1;
       -moz-transform-origin: 50% 50%;
       -moz-transform: scale(1, 1);
  }
}
