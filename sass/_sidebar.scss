// !compileOnSave
// compileOnSave        : false
// main                 : ../style.scss


/* Sidebar ----------------------- */

.col-aside {
  width                 : $col-aside-width;
  padding-top           : $col-aside-padding-top;
  padding-left          : $col-aside-padding-left-right;
  padding-right         : $col-aside-padding-left-right;
  padding-bottom        : $col-aside-padding-bottom;
  background-repeat     : no-repeat;
  background-position   : center;
  background-size       : 100% 100%;
  background-image      : svgParams(sidebar, $sidebar-svg-color);
  @include screen1200 {
    padding-left        : calc(#{$col-aside-padding-left-right} + 1%);
    padding-right       : calc(#{$col-aside-padding-left-right} + 1%);
  };
  @media screen and (max-width: $wrapper-width-900) {
    background-color    : $lesson-name-wrapper-bg-color;
    background-image    : none;
  }

  .lesson-name-wrapper {
    background-color    : $lesson-name-wrapper-bg-color;
  }

  ul {
    font-size         : $lesson-name-font-size;
    counter-reset     : li;

    li {
      list-style          : none;

      input {
        display: none;
      }

      label {
        display: block;
        cursor: pointer;
        font-size         : $lesson-name-font-size;
        background-color  : $lesson-name-span-bg-color;
        color             : $lesson-name-span-text-color;
        padding-top       : $lesson-name-span-padding-top-bottom;
        padding-bottom    : $lesson-name-span-padding-top-bottom;
        padding-left      : $lesson-name-span-padding-left;
        padding-right     : $lesson-name-span-padding-right;
        text-transform    : $lesson-name-span-text-transform;
        margin-top        : $lesson-name-span-margin-top-bottom;
        margin-bottom     : $lesson-name-span-margin-top-bottom;
        margin-left       : $lesson-name-span-margin-left-right;
        margin-right      : $lesson-name-span-margin-left-right;
        @include screen1200 {
          margin-left     : calc(#{$lesson-name-span-margin-left-right}  - 10px);
          margin-right    : calc(#{$lesson-name-span-margin-left-right}  - 10px);
          font-size       : calc(#{$lesson-name-font-size}               - 5%);

        };
        @include screen1000 {
          padding-top     : calc(#{$lesson-name-span-padding-top-bottom} - 5px);
          padding-bottom  : calc(#{$lesson-name-span-padding-top-bottom} - 5px);
          padding-right   : calc(#{$lesson-name-span-padding-right}      - 5px);
        };
        @include screen900 {
          padding-top     : calc(#{$lesson-name-span-padding-top-bottom} - 5px);
          padding-bottom  : calc(#{$lesson-name-span-padding-top-bottom} - 5px);
          padding-right   : calc(#{$lesson-name-span-padding-right}      - 5px);
        };

        &.ln-label {
          &::after {
            display: block;
            content: " ";
            vertical-align: middle;
            float: right;
            clear: both;
            @include triangle("right", 5px, 10px, currentColor);
            margin-right: $lesson-group-triangle;
            -webkit-transition: -webkit-transform .2s ease-out;
                 -o-transition:         transform .2s ease-out;
                    transition: -webkit-transform .2s ease-out;
                    transition:         transform .2s ease-out;
                    transition:         transform .2s ease-out,
                                -webkit-transform .2s ease-out;
            -webkit-transform          : translateY(50%);
                -ms-transform          : translateY(50%);
                    transform          : translateY(50%);
          }
        }
      }

      .toggle:checked + .ln-label::after {
        -webkit-transform          : rotate(90deg);
            -ms-transform          : rotate(90deg);
                transform          : rotate(90deg);
      }

      ol {
        // Because display:none messes up the lesson counter
        font-size: 0;
        visibility: hidden;

        li {
          margin-left       : $lesson-name-li-margin-left;
          @include screen1200 {
            margin-left     : calc(#{$lesson-name-li-margin-left} - 8px);
          };

          ::before {
            counter-increment: li;
            content         : counter(li);
            color           : $lesson-link-number-color;
            display         : inline-block;
            width           : $lesson-link-number-width;
            margin-left     : $lesson-link-number-margin-left;
            margin-right    : $lesson-link-number-margin-right;
            text-align      : $lesson-link-number-text-align;
            direction       : $lesson-link-number-text-direction;
            @include screen900 {
              margin-left   : calc(#{$lesson-link-number-margin-left} - 0.3em);
            };
          }

          &.active {
            &:before {
              display       : inline-block;
              content       : $lesson-link-active-marker;
              font-size     : $lesson-link-active-marker-size;
              color         : $lesson-link-number-color;
              width         : $lesson-link-active-width;
              margin-left   : $lesson-link-active-margin-left;
            }
          }
        }
      }

      .toggle:checked + * + ol {
        font-size           : $lesson-name-font-size;
        line-height         : $main-line-height;
        visibility          : visible;
        @include screen1200 {
          font-size         : calc(#{$lesson-name-font-size} -   5%);
          line-height       : calc(#{$main-line-height}       - 15%);
        };
        @include screen1000 {
          font-size         : calc(#{$lesson-name-font-size} -  10%);
          line-height       : calc(#{$main-line-height}       - 25%);
        };
        @include screen900 {
          font-size         : calc(#{$lesson-name-font-size} -  10%);
          line-height       : calc(#{$main-line-height}       - 10%);
        };
      }
    }
  }
}
